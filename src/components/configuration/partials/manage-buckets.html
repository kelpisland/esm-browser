<section>
    <hr>
    <div class="row">
        <div class="col-sm-7">
            <table class="table table-condensed table-striped table-hover">
                <thead class="small">
                <th width="12%">Code</th>
                <th width="12%">Name</th>
                <th width="12%">Project</th>
                <th width="12%">Stream</th>
                <th width="12%">Visible at Phase</th>
                <th width="12%">Value Component</th>
                <th width="12%">Progress</th>
                <th width="12%">Status</th>
                </thead>
                <tbody>
                <tr ng-repeat="phase in configDataElement.records" ng-click='configDataElement.editRecord(phase)' class="clickable">
                    <td>{{ bucket.code }}</td>
                    <td>{{ bucket.name }}</td>
                    <td>{{ bucket.project }}</td>
                    <td>{{ bucket.stream }}</td>
                    <td>{{ bucket.visibleAtPhase }}</td>
                    <td><span ng-if="bucket.isValueComponent">Yes</span><span ng-if="!bucket.isValueComponent">No</span></td>
                    <td>{{ bucket.progress }}</td>
                    <td>{{ bucket.status }}</td>
                </tr>
                <tr ng-if="configDataElement.records.length === 0">
                    <td colspan="9">No buckets defined.</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="col-sm-5">
            <div class="well">
                <h4 ng-if="configDataElement.msg">{{configDataElement.msg}}</h4>

                <div ng-show="!configDataElement.activeRecord">Select an item in the table or <a href ng-click="configDataElement.newRecord()">click here</a> to create a new one.</div>

                <div ng-show="configDataElement.activeRecord">

                    <div class="form-group">
                        <label class="control-label">Code</label>
                        <input class="form-control" type="text" ng-model="configDataElement.activeRecord.code">
                    </div>

                    <div class="form-group">
                        <label class="control-label">Name</label>
                        <input class="form-control" type="text" ng-model="configDataElement.activeRecord.name">
                    </div>
                    <div class="form-group">
                        <label class="control-label">Project</label>
                        <select class="form-control" ng-model="configDataElement.activeRecord.project">
                            <option value="">---Please select ---</option>
                            <option value="this">this</option>
                            <option value="that">that</option>
                            <option value="the other">the other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="control-label">Stream</label>
                        <select class="form-control" ng-model="configDataElement.activeRecord.stream">
                            <option value="">---Please select ---</option>
                            <option value="this">this</option>
                            <option value="that">that</option>
                            <option value="the other">the other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="control-label">Visible at Phase</label>
                        <select class="form-control" ng-model="configDataElement.activeRecord.visibleAtPhase">
                            <option value="">---Please select ---</option>
                            <option value="this">this</option>
                            <option value="that">that</option>
                            <option value="the other">the other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="control-label">Value Component</label>
                        <input class="form-control" type="checkbox" ng-model="configDataElement.activeRecord.isValueComponent">
                    </div>
                    <div class="form-group">
                        <label class="control-label">Progress</label>
                        <input class="form-control" type="number" ng-model="configDataElement.activeRecord.progress">
                    </div>
                    <div class="form-group">
                        <label class="control-label">Status</label>
                        <input class="form-control" type="text" ng-model="configDataElement.activeRecord.status">
                    </div>
                    <div class="form-group">
                        <label class="control-label">Mandatory Duration (days)</label>
                        <input class="form-control" type="number" ng-model="configDataElement.activeRecord.mandatoryDurationDays">
                    </div>

                    <div class="form-group" ng-if="configDataElement.activeRecordNew">
                        <button class="btn btn-primary" ng-click="configDataElement.addRecord()">Add</button>
                    </div>

                    <div ng-if="!configDataElement.activeRecordNew">
                        <button class="btn btn-primary" ng-click="configDataElement.saveRecord()">Save</button>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>
