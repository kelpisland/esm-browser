<section>
	<hr>
	<div class="row">
		<div class="col-sm-7">
			<table class="table table-condensed table-striped table-hover">
				<thead class="small">
				<th width="11%">Code</th>
				<th width="11%">Name</th>
				<th width="11%">Description</th>
				<th width="11%">Phases</th>
				<th width="11%">Activities</th>
				<th width="11%">Tasks</th>
				<th width="11%">Milestones</th>
				<th width="11%">Buckets</th>
				<th width="11%">Requirements</th>
				</thead>
				<tbody>
				<tr ng-repeat="stream in configDataElement.records" ng-click='configDataElement.editRecord(stream)' class="clickable">
					<td>{{ stream.code }}</td>
					<td>{{ stream.name }}</td>
					<td>{{ stream.description }}</td>
					<td><span ng-repeat="phase in stream.phases"><span ng-if="!$first">,&nbsp;</span>{{ phase }}</span></td>
					<td><span ng-repeat="activity in stream.activities"><span ng-if="!$first">,&nbsp;</span>{{ activity }}</span></td>
					<td><span ng-repeat="task in stream.tasks"><span ng-if="!$first">,&nbsp;</span>{{ task }}</span></td>
					<td><span ng-repeat="milestone in stream.milestones"><span ng-if="!$first">,&nbsp;</span>{{ milestone }}</span></td>
					<td><span ng-repeat="bucket in stream.buckets"><span ng-if="!$first">,&nbsp;</span>{{ bucket }}</span></td>
					<td><span ng-repeat="requirement in stream.requirements"><span ng-if="!$first">,&nbsp;</span>{{ requirement }}</span></td>
				</tr>
				<tr ng-if="configDataElement.records.length === 0">
					<td colspan="9">No streams defined.</td>
				</tr>
				</tbody>
			</table>
		</div>
		<div class="col-sm-5">
			<div class="well">
				<h4 ng-if="configDataElement.msg">{{configDataElement.msg}}</h4>

				<div ng-show="!configDataElement.activeRecord">Select an item in the table or <a href ng-click="configDataElement.newRecord()">click here</a> to create a new one.</div>

				<div ng-show="configDataElement.activeRecord">

					<div class="form-group">
						<label class="control-label">Code</label>
						<input class="form-control" type="text" ng-model="configDataElement.activeRecord.code">
					</div>

					<div class="form-group">
						<label class="control-label">Name</label>
						<input class="form-control" type="text" ng-model="configDataElement.activeRecord.name">
					</div>

					<div class="form-group">
						<label class="control-label">Description</label>
						<textarea class="form-control" ng-model="configDataElement.activeRecord.description">{{ configDataElement.activeRecord.description }}</textarea>
					</div>

					<div class="form-group">
						<label class="control-label">Phases</label>
						<a href x-modal-select-items x-all-items="configDataElement.config.phases" x-selected-items="configDataElement.activeRecord.phases" x-item-name="Phases">

							<span ng-if="configDataElement.activeRecord.phases.length === 0 || !configDataElement.activeRecord.phases">Click here to select</span>

							<span ng-repeat="phase in configDataElement.activeRecord.phases"><span ng-if="!$first">,&nbsp;</span>{{ phase }}</span>
						</a>
					</div>

					<div class="form-group">
						<label class="control-label">Activities</label>
						<a href x-modal-select-items x-all-items="configDataElement.config.activities" x-selected-items="configDataElement.activeRecord.activities" x-item-name="Activities">

							<span ng-if="configDataElement.activeRecord.activities.length === 0 || !configDataElement.activeRecord.activities">Click here to select</span>

							<span ng-repeat="activity in configDataElement.activeRecord.activities"><span ng-if="!$first">,&nbsp;</span>{{ activity }}</span>
						</a>
					</div>

					<div class="form-group">
						<label class="control-label">Tasks</label>
						<a href x-modal-select-items x-all-items="configDataElement.config.tasks" x-selected-items="configDataElement.activeRecord.tasks" x-item-name="Tasks">

							<span ng-if="configDataElement.activeRecord.tasks.length === 0 || !configDataElement.activeRecord.tasks">Click here to select</span>

							<span ng-repeat="task in configDataElement.activeRecord.tasks"><span ng-if="!$first">,&nbsp;</span>{{ task }}</span>
						</a>
					</div>

					<div class="form-group">
						<label class="control-label">Milestones</label>
						<a href x-modal-select-items x-all-items="configDataElement.config.milestones" x-selected-items="configDataElement.activeRecord.milestones" x-item-name="Milestones">

							<span ng-if="configDataElement.activeRecord.milestones.length === 0 || !configDataElement.activeRecord.milestones">Click here to select</span>

							<span ng-repeat="milestone in configDataElement.activeRecord.milestones"><span ng-if="!$first">,&nbsp;</span>{{ milestone }}</span>
						</a>
					</div>

					<div class="form-group">
						<label class="control-label">Buckets</label>
						<a href x-modal-select-items x-all-items="configDataElement.config.buckets" x-selected-items="configDataElement.activeRecord.buckets" x-item-name="Buckets">

							<span ng-if="configDataElement.activeRecord.buckets.length === 0 || !configDataElement.activeRecord.buckets">Click here to select</span>

							<span ng-repeat="bucket in configDataElement.activeRecord.buckets"><span ng-if="!$first">,&nbsp;</span>{{ bucket }}</span>
						</a>
					</div>

					<div class="form-group">
						<label class="control-label">Requirements</label>
						<a href x-modal-select-items x-all-items="configDataElement.config.requirements" x-selected-items="configDataElement.activeRecord.requirements" x-item-name="Requirements">

							<span ng-if="configDataElement.activeRecord.requirements.length === 0 || !configDataElement.activeRecord.requirements">Click here to select</span>

							<span ng-repeat="requirement in configDataElement.activeRecord.requirements"><span ng-if="!$first">,&nbsp;</span>{{ requirement }}</span>
						</a>
					</div>


					<div class="form-group" ng-if="configDataElement.activeRecordNew">
						<button class="btn btn-primary" ng-click="configDataElement.addRecord()">Add</button>
					</div>

					<div ng-if="!configDataElement.activeRecordNew">
						<button class="btn btn-primary" ng-click="configDataElement.saveRecord()">Save</button>
					</div>
				</div>
			</div>
		</div>

	</div>
</section>


