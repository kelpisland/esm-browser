<div class="panel panel-default">
	<div class="panel-heading">
		Public Comments Period Scheduling: {{ taskPubComSched.task.name }} <em class="small pull-right form-control-static">{{ taskPubComSched.task.status }}</em>
	</div>



	<div class="panel-body" ng-show="taskPubComSched.task.status === 'In Progress'">

		<!-- START/END DATE -->
		<div class="row">
			<div class="col-sm-6">
				<div class="form-group">
					<label class="control-label">Start Date</label>
					<div class="input-group">
						<input type="text" class="form-control text-center" ng-model="taskPubComSched.data.startDate" ng-disabled="1"/>
						<div x-modal-date-picker x-selected-date="taskPubComSched.data.startDate" class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></div>
					</div>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="form-group">
					<label class="control-label">End Date</label>
					<div class="input-group">
						<input type="text" class="form-control text-center" ng-model="taskPubComSched.data.endDate" ng-disabled="1"/>
						<div x-modal-date-picker x-selected-date="taskPubComSched.data.endDate" class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></div>
					</div>
				</div>
			</div>
		</div>
		<div class="text-center" ng-if="taskPubComSched.data.startDate | isInTheFuture">
			<small>Comment Period Starts In</small>
			<countdown-clock x-end="taskPubComSched.data.startDate"></countdown-clock>
		</div>
		<div class="text-center" ng-if="(taskPubComSched.data.startDate | isInThePast) && (taskPubComSched.data.endDate | isInTheFuture)">
			<small>Comment Period Ends In</small>
			<countdown-clock x-end="taskPubComSched.data.endDate"></countdown-clock>
		</div>
		<hr>
		<!-- SCOPE/TOPIC TABLE -->
		<div class="row">
			<div class="col-md-12">
				<h3>Scope / Topics</h3>
				<table class="table table-condensed">
					<tbody>
					<tr ng-repeat="(index, row) in taskPubComSched.data.scopeTopics" >

						<!-- DEFAULT -->
						<td ng-if="!row.delete && !row.edit">
							{{ row.text }}
						</td>
						<td ng-if="!row.delete && !row.edit" width="90px">
							<div class="form-group text-right">
								<button class="btn btn-default btn-sm" ng-click="editScopeTopicsRow(index)" ng-if="!row.edit"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
								<button class="btn btn-danger btn-sm" ng-click="deleteScopeTopicsRow(index)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span></button>
							</div>
						</td>

						<!-- EDIT -->
						<td ng-if="row.edit" colspan="2">
							<div class="form-group">
								<textarea class="form-control" ng-model="row.newText"></textarea>
							</div>
							<div class="form-group text-right">
								<button class="btn btn-success btn-sm" ng-click="editScopeTopicsRowOkay(index)" ng-if="row.edit"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span> OK</button>
								<button class="btn btn-default btn-sm" ng-click="editScopeTopicsRowCancel(index)" ng-if="row.edit"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Cancel</button>
							</div>
						</td>


						<!-- DELETE -->
						<td ng-if="row.delete" colspan="2">
							<div class="alert alert-danger" role="alert">
								<span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"></span>
								<span class="sr-only">Error:</span>
								Are you sure you want to delete this row?
							</div>
							{{ row.text }}
							<div class="form-group text-right">
								<button class="btn btn-danger btn-sm" ng-click="deleteScopeTopicsRowConfirm(index)"><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Yes, Delete this row.</button>
								<button class="btn btn-default btn-sm" ng-click="deleteScopeTopicsRowCancel(index)"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span> Cancel.</button>
							</div>
						</td>

					</tr>
					<tr ng-if="!taskPubComSched.data.showScopeTopicAddButton">
						<td colspan="2">
							<div class="form-group">
								<textarea class="form-control" ng-model="taskPubComSched.data.newScopeTopic"></textarea>
							</div>
							<div class="text-right">
								<button class="btn btn-success" ng-click="addRowToScopeTopics()">OK</button>
								<button class="btn btn-default" ng-click="taskPubComSched.data.showScopeTopicAddButton=true">Cancel</button>
							</div>
						</td>
					</tr>
					<tr ng-if="taskPubComSched.data.showScopeTopicAddButton">
						<td colspan="2"><button class="btn btn-success pull-right" ng-click="taskPubComSched.data.showScopeTopicAddButton=false">Add</button></td>
					</tr>
					</tbody>
				</table>
			</div>
		</div>
		<hr>
		<!-- IMPORTANT DATES -->
		<div class="row" ng-show="taskPubComSched.data.startDate">
			<div class="col-md-12">
				<div class="form-group">
					<h3>Important Dates</h3>
					<table class="table table-condensed">
						<thead>
						<tr>
							<th>Task</th>
							<th>Date</th>
						</tr>
						</thead>
						<tbody>
						<tr>
							<td>Post Ad By</td>
							<td>{{ taskPubComSched.data.startDate | amSubtract : '7' : 'days' | amDateFormat : 'dddd, MMMM Do YYYY, h:mm a' }}</td>
						</tr>
						<tr>
							<td>Provide Information By</td>
							<td>{{ taskPubComSched.data.startDate | amSubtract : '7' : 'days' | amDateFormat : 'dddd, MMMM Do YYYY, h:mm a' }}</td>
						</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
		<hr ng-show="taskPubComSched.data.startDate">
		<!-- OPEN HOUSE -->
		<div class="row">
			<div class="form-group">
				<div class="col-md-12" ng-if="1 == 1"><!-- if EAO user... -->
					<h3>Open House</h3>
					<div class="row">
						<div class="col-md-6">
							<div class="form-group">
								<label class="control-label">Date / Time</label>
								<div class="input-group">
									<input type="text" class="form-control text-center" ng-model="taskPubComSched.data.openHouseDate" ng-disabled="1"/>
									<div x-modal-date-picker x-selected-date="taskPubComSched.data.openHouseDate" class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></div>
								</div>
							</div>
						</div>
						<div class="col-md-6">
							<div class="form-group">
								<label class="control-label">Location</label>
								<textarea class="form-control" ng-model="taskPubComSched.data.openHouseLocation"></textarea>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>





	<div class="panel-body" ng-show="taskPubComSched.task.status !== 'In Progress'">

		<!-- START/END DATE -->
		<div class="row">
			<div class="col-sm-6">
				<div class="form-group">
					<label class="control-label">Start Date</label>
					<div class="input-group">
						<p class="form-control-static">{{ (taskPubComSched.data.startDate | amDateFormat : 'dddd, MMMM Do YYYY, h:mm a') || 'No date defined' }}</p>
					</div>
				</div>
			</div>
			<div class="col-sm-6">
				<div class="form-group">
					<label class="control-label">End Date</label>
					<p class="form-control-static">{{ (taskPubComSched.data.endDate | amDateFormat : 'dddd, MMMM Do YYYY, h:mm a') || 'No date defined' }}</p>
				</div>
			</div>
		</div>
		<div class="text-center" ng-if="taskPubComSched.data.startDate | isInTheFuture">
			<small>Comment Period Starts In</small>
			<countdown-clock x-end="taskPubComSched.data.startDate"></countdown-clock>
		</div>
		<div class="text-center" ng-if="(taskPubComSched.data.startDate | isInThePast) && (taskPubComSched.data.endDate | isInTheFuture)">
			<small>Comment Period Ends In</small>
			<countdown-clock x-end="taskPubComSched.data.endDate"></countdown-clock>
		</div>
		<hr>
		<!-- SCOPE/TOPIC TABLE -->
		<div class="row">
			<div class="col-md-12">
				<h3>Scope / Topics</h3>
				<table class="table table-condensed">
					<tbody>
					<tr ng-repeat="value in taskPubComSched.data.scopeTopics">
						<td>{{ value }}</td>
					</tr>
					</tbody>
				</table>
			</div>
		</div>
		<hr>
		<!-- IMPORTANT DATES -->
		<div class="row" ng-show="taskPubComSched.data.startDate">
			<div class="col-md-12">
				<div class="form-group">
					<h3>Important Dates</h3>
					<table class="table table-condensed">
						<thead>
						<tr>
							<th>Task</th>
							<th>Date</th>
						</tr>
						</thead>
						<tbody>
						<tr>
							<td>Post Ad By</td>
							<td>{{ taskPubComSched.data.startDate | amSubtract : '7' : 'days' | amDateFormat : 'dddd, MMMM Do YYYY, h:mm a' }}</td>
						</tr>
						<tr>
							<td>Provide Information By</td>
							<td>{{ taskPubComSched.data.startDate | amSubtract : '7' : 'days' | amDateFormat : 'dddd, MMMM Do YYYY, h:mm a' }}</td>
						</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
		<hr ng-show="taskPubComSched.data.startDate">
		<!-- OPEN HOUSE -->
		<div class="row">
			<div class="form-group">
				<div class="col-md-12" ng-if="1 == 1"><!-- if EAO user... -->
					<h3>Open House</h3>
					<div class="row">
						<div class="col-md-6">
							<div class="form-group">
								<label class="control-label">Date / Time</label>
								<div class="input-group">
									<p class="form-control-static">{{ (taskPubComSched.data.openHouseDate | amDateFormat : 'dddd, MMMM Do YYYY, h:mm a') || 'No date defined' }}</p>
								</div>
							</div>
						</div>
						<div class="col-md-6">
							<div class="form-group">
								<label class="control-label">Location</label>
								<p class="form-control-static">{{ (taskPubComSched.data.openHouseLocation) || 'No date defined' }}</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>




	<div class="panel-footer text-right" ng-show="taskPubComSched.task.status === 'In Progress'">
		<a class="btn btn-default"  href ng-click="taskPubComSched.saveTask()">Save</a>
		<a class="btn btn-success"  href ng-click="taskPubComSched.completeTask()">Complete</a>
	</div>
	<div class="panel-footer text-right" ng-show="taskPubComSched.task.status === 'Not Started'">
		Please activate this task to make changes.
	</div>

</div>
